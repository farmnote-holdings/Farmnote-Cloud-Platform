# Farmnote Cloud "FarmBoard" 再設計仕様書 Ver. 1.0

## 1. 機能概要

本仕様書は、Farmnote Cloudのトップページである現行「FarmBoard」を抜本的に再設計し、AIアシスタントを中核に据えた**「デイリー・コマンドセンター」**としての新しいFarmBoardを定義するものである。本機能は、**個々の担当者に最適化されたタスクリスト**を提供する一方で、**管理者向けの全体進捗ビュー**も提供し、あらゆる役割のユーザーを支援する。

## 2. コンセプト：情報ポータルから、対話型コマンドセンターへ

### 2.1. 現状の課題（As-Is）
現行のFarmBoardは、日次のタスク、月次・年次のKPI、ショートカット（カード機能）などが混在しており、情報が雑多でユーザーが「今、何を見るべきか」を直感的に把握しにくい。結果として、多くのユーザーにとって価値の低いランディングページとなってしまっている。

### 2.2. 目指す姿（To-Be）
新しいFarmBoardは、単なる情報の閲覧場所ではない。**AIアシスタントとの対話を中心に据え、日々の牧場運営の予実管理と、重要な変化点の把握に特化したコマンドセンター**へと進化させる。ユーザーはログイン直後、このページでAIと対話し、その日の牧場の状態を即座に把握し、次のアクションへと繋げることができる。

### 2.3. エコシステムにおける役割
- **パーソナライズド・タスクリスト（旧Today）:** 「個人」のタスク実行を管理する。
- **FarmBoard（本機能）:** 「牧場全体」の**日次**の状況把握と、AIとの対話の起点となる。
- **Compass:** 「牧場全体」の**月次・年次**の経営分析を行う。

## 3. 主要な提供機能（ユーザーストーリー）

| ストーリーID | 役割 | 機能 | ゴール |
| :--- | :--- | :--- | :--- |
| US-01 | 牧場長 | FarmBoardを開くと、AIアシスタントにすぐ質問できる入力欄が表示されており、「1年間の死亡件数を月次で出して」といった自然言語での問い合わせが即座にできる。 | これまで個体リストを複雑に操作して作成していたレポートを、会話形式で簡単に入手できる。 |
| US-02 | 牧場長 | FarmBoard上で、日々の出荷乳量や個体販売数といった、変動が激しく重要な経営指標の推移をグラフで視覚的に確認できる。 | その日の目標達成状況や、生産の異常を早期に察知し、迅速な経営判断を下せる。 |
| US-03 | 全ユーザー | FarmBoardにアクセスすると、システムメンテナンスのお知らせや、新しいリリースノート、自分宛の重要な通知などをまとめて確認できる。 | システムに関する重要情報を見逃すことなく、常に最新の状態でサービスを利用できる。 |
| US-04 | 担当者 | 自身のタスクリストに、Colorセンサーの異常検知など、予定外で発生した重要なタスクもリアルタイムで追加され、見逃すことがない。 | 突発的な問題にも迅速に対応でき、事故や疾病による損失を最小限に抑えられる。 |
| US-05 | 牧場長 | 左メニューの「Today」ビューから、牧場全体の全タスクの進捗状況（担当者、ステータス等）をリアルタイムで俯瞰的に確認できる。 | 個々のスタッフに状況を聞いて回らなくても、牧場全体の作業の進捗や遅延を把握し、ボトルネックがあればすぐに介入できる。 |

## 4. UI/UXのイメージ

### 4.1. 役割に応じたビューの定義
本機能は、ユーザーの役割（権限）に応じて、ログイン後に表示されるFarmBoardのビューが動的に切り替わる。

- **管理者向けビュー（デイリー・コマンドセンター）:**
  牧場長などの管理者権限を持つユーザーには、以下のコンポーネントで構成されたビューが表示される。
  1.  **AIアシスタント・インターフェース**
  2.  **タスク管理コンポーネント**（サマリー形式で表示）
  3.  **デイリーKPIダッシュボード**
  4.  **通知センター**

- **担当者向けビュー（パーソナライズド・ワークスペース）:**
  一般の担当者ユーザーには、以下のコンポーネントで構成されたビューが表示される。
  1.  **AIアシスタント・インターフェース**
  2.  **タスク管理コンポーネント**（パーソナライズド・リスト形式で表示）
  3.  **デイリーKPIダッシュボード**
  4.  **通知センター**

## 5. 機能要件詳細

### 5.1. AIアシスタント・インターフェース
- **役割:** 全てのユーザーが、日常的な質問や指示を即座に実行するための「対話の入り口」として機能する。
- **機能:** 個体検索、レポート生成、タスク生成指示などを指示すると「Farmnote Assistant」アプリへ遷移する。

### 5.2. タスク管理コンポーネント
- **役割:** その日のタスク状況を表示する。表示形式はユーザーの役割に応じて動的に変化する。
- **表示ロジック:**
    - **管理者向け（サマリー形式）:**
        - **表示内容:** 全タスクの総数、完了数、未完了数、遅延数などを集約したウィジェットとして表示。
        - **機能:** クリックすると、管理者向けの「Todayセクション」（詳細な個体リスト）に遷移する。
    - **担当者向け（パーソナライズド・リスト形式）:**
        - **表示内容:** 担当者自身のタスクのみを個別にリストアップして表示。これが担当者のメインコンテンツとなる。
        - **機能:** 音声やチェックボックスによるタスク完了報告など。詳細仕様は `Today機能再設計仕様書_v1.0.md` を参照。

### 5.3. デイリーKPIダッシュボード
- **表示指標:**
    - **出荷乳量:** 日々の出荷量の推移を折れ線グラフで表示。月間目標達成率も併記する。
    - **個体販売数:** 日々の販売頭数と金額の推移を棒グラフで表示。
    - （その他、日次でのモニタリングが重要なKPIを数点追加）
- **表示期間:** デフォルトは過去7日間。ユーザーが過去30日などに切り替えられる。
- **役割:** あくまで日々の変動を捉えるためのものであり、詳細な分析機能はCompassが担う。

### 5.4. 通知センター
- **役割:** Farmnoteからのお知らせ、Colorセンサーからのリアルタイムアラート、そしてAIによる分析インサイトなど、注意を要する情報を集約して表示する。
- **UI:** 「お知らせ」「アラート」「AIインサイト」の3つのタブ切り替え形式とする。
    - **「お知らせ」タブ:** Farmnoteからのシステムメンテナンスや新機能リリースなど、運営からの公式情報を時系列で表示する。
    - **「アラート」タブ:** Farmnote Colorなどのセンサーが検知した個別のイベント（発情兆候、活動低下など）をリアルタイムにリスト表示する。
    - **「AIインサイト」タブ:** AIが牧場全体のデータを毎日分析し、「今週、初産牛の乳量が平均を下回っています」といった注意すべき傾向や改善点をプロアクティブに通知する。
- **表示ロジック:**
    - **アラート/AIインサイト:** 管理者には牧場全体、担当者には自身が担当する牛群に関連する情報のみをフィルタリングして表示する。

## 6. 依存関係
- **AIバックエンド:** AIアシスタント機能の応答を処理するバックエンドAPI。
- **Farmnote Assistant アプリケーション:** より高度な対話機能を提供する独立アプリケーション。
- **データソース:** 各KPIを算出するための出荷データ、販売データ等。
- **パーソナライズド・タスクリスト:** 本機能の担当者向けビューは、`Today機能再設計仕様書`で定義された機能と密に連携する。

以上
